<mxfile host="app.diagrams.net" modified="2024-03-11T02:48:38.999Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36" etag="1o8RMKUTglqBH0tMqJ_K" version="24.0.2" type="github">
  <diagram name="第 1 页" id="UCJbkfEHo9nf_XNZpd-x">
    <mxGraphModel dx="1434" dy="746" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LZsBVTFSexPPK4ItmFY2-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-1" target="LZsBVTFSexPPK4ItmFY2-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-1" value="用户点击应用" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-2" target="LZsBVTFSexPPK4ItmFY2-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-2" value="前端携带code到后端" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-4" target="LZsBVTFSexPPK4ItmFY2-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-4" value="后端根据配置，获取应用的token" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-6" target="LZsBVTFSexPPK4ItmFY2-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-6" value="根据应用token，拼接用户code，去请求用户信息" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="710" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-8" target="LZsBVTFSexPPK4ItmFY2-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-8" target="LZsBVTFSexPPK4ItmFY2-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-8" value="用户是否存在" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="400" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-10" value="插入" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-13" value="否" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1010" y="410" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-14" value="·更新用户信息" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-16" value="用户信息插入流程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="350" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-17" target="LZsBVTFSexPPK4ItmFY2-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-17" value="获取到用户信息" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-18" target="LZsBVTFSexPPK4ItmFY2-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-18" target="LZsBVTFSexPPK4ItmFY2-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-18" value="获取用户组织id" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="310" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-20" target="LZsBVTFSexPPK4ItmFY2-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-20" value="查询组织信息" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="510" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-22" target="LZsBVTFSexPPK4ItmFY2-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-22" value="根据查询到的组织信息，匹配预设的角色" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-24" value="初始化我们用户体系" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="910" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-27" value="初始化哪些角色，要提前订" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1080" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-28" value="初始角色-南山部门映射" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1080" y="1040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-30" target="LZsBVTFSexPPK4ItmFY2-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-30" value="部门是否预置角色？" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="330" y="870" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-32" value="初始化角色菜单等信息" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-34" value="是" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="410" y="880" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-35" value="是否预置角色，查询映射表。例如，初始化了一个角色：教育局。 对应的南山部门id为1。&lt;div&gt;那么如果用户的部门列表中含1，则需要向role_user表中插入对应数据。&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="180" y="940" width="300" height="110" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-38" target="LZsBVTFSexPPK4ItmFY2-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-38" value="开始" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-39" target="LZsBVTFSexPPK4ItmFY2-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-39" value="政务微信点击应用" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-41" target="LZsBVTFSexPPK4ItmFY2-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-41" value="政务微信传code到前端页面" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="570" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-43" target="LZsBVTFSexPPK4ItmFY2-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-43" value="前端调用后端登录接口，传入政务微信code" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-45" target="LZsBVTFSexPPK4ItmFY2-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-45" value="后端接口根据corpid和secret，获取政务微信token" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1030" y="1300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-47" target="LZsBVTFSexPPK4ItmFY2-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-47" value="使用上述token和前端传入code，后去用户信息，含用户id" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="1030" y="1525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-51" target="LZsBVTFSexPPK4ItmFY2-62">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="790" y="1630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-51" target="LZsBVTFSexPPK4ItmFY2-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-51" value="用户存在？" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="1515" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-53" target="LZsBVTFSexPPK4ItmFY2-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-53" value="更新用户信息，生成智慧统计token" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="495" y="1525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-55" target="LZsBVTFSexPPK4ItmFY2-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-55" value="返回token，登录成功" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="325" y="1525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-57" value="结束" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="125" y="1525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-59" target="LZsBVTFSexPPK4ItmFY2-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-59" value="插入用户信息" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="830" y="1640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-61" value="是" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="800" y="1520" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-62" target="LZsBVTFSexPPK4ItmFY2-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-62" value="更新uc_group_user信息、uc_role_user信息" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="1525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-69" value="用户中心" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="634" y="2294" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-74" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-69">
          <mxGeometry x="45" y="110" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-82" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-69">
          <mxGeometry x="41" y="240" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-83" value="防重校验" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" target="LZsBVTFSexPPK4ItmFY2-82" parent="LZsBVTFSexPPK4ItmFY2-69">
          <mxGeometry x="0.1765" y="20" relative="1" as="geometry">
            <mxPoint x="46" y="220" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="76" y="250" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-71" value="数图" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="280" y="2294" width="100" height="310" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-72" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-71">
          <mxGeometry x="45" y="100" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-73" value="消息推送请求" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=5;" edge="1" target="LZsBVTFSexPPK4ItmFY2-72" parent="LZsBVTFSexPPK4ItmFY2-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-25" y="105" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-86" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-71">
          <mxGeometry x="45" y="230" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-75" value="接口调用，将推送消息到用户中心（入参含消息id、封面、title等必要信息）" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=5;" edge="1" parent="1">
          <mxGeometry x="0.0014" relative="1" as="geometry">
            <mxPoint x="330" y="2443.5" as="sourcePoint" />
            <mxPoint x="679.5" y="2443.5" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-77" value="用户中心数据库" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="850" y="2294" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-78" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-77">
          <mxGeometry x="50" y="230" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-85" value="消息入库消息表" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" target="LZsBVTFSexPPK4ItmFY2-78">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680.5" y="2564" as="sourcePoint" />
            <mxPoint x="830" y="2564" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-87" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="2564" as="sourcePoint" />
            <mxPoint x="335" y="2564" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-88" value="响应成功" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="LZsBVTFSexPPK4ItmFY2-87">
          <mxGeometry x="0.2597" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-89" value="消息推送流程" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="125" y="2294" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-90" value="用户中心" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="634" y="2664" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-91" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-90">
          <mxGeometry x="45" y="110" width="10" height="170" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-94" value="移动端" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="280" y="2664" width="100" height="480" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-95" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-94">
          <mxGeometry x="45" y="100" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-96" value="消息列表拉取请求" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=5;" edge="1" parent="LZsBVTFSexPPK4ItmFY2-94" target="LZsBVTFSexPPK4ItmFY2-95">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-25" y="105" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-97" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-94">
          <mxGeometry x="45" y="230" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-98" value="接口调用，拉取推送列表" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=5;" edge="1" parent="1">
          <mxGeometry x="0.0014" relative="1" as="geometry">
            <mxPoint x="330" y="2813.5" as="sourcePoint" />
            <mxPoint x="679.5" y="2813.5" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-99" value="用户中心数据库" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="850" y="2664" width="100" height="300" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-100" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-99">
          <mxGeometry x="45" y="150" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-101" value="查询消息表" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="690" y="2844" as="sourcePoint" />
            <mxPoint x="896" y="2844" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-102" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="2934" as="sourcePoint" />
            <mxPoint x="335" y="2934" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-103" value="返回消息列表（消息id、封面、title等必要信息）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="LZsBVTFSexPPK4ItmFY2-102">
          <mxGeometry x="0.2597" relative="1" as="geometry">
            <mxPoint x="41" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-104" value="移动端消息列表拉取" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="90" y="2664" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-107" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="325" y="3014" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-108" value="数图" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="1040" y="2664" width="80" height="520" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-109" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-108">
          <mxGeometry x="35" y="350" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-113" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="LZsBVTFSexPPK4ItmFY2-108">
          <mxGeometry x="35" y="480" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-114" value="渲染完成，展示" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" target="LZsBVTFSexPPK4ItmFY2-113" parent="LZsBVTFSexPPK4ItmFY2-108">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="460" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="70" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-110" value="用户点击消息" style="html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=5;" edge="1" parent="1">
          <mxGeometry y="10" relative="1" as="geometry">
            <mxPoint x="245" y="3044" as="sourcePoint" />
            <mxPoint x="315" y="3044" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-111" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="3058" as="sourcePoint" />
            <mxPoint x="1075" y="3058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-112" value="前端携带必要参数，请求数图" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="LZsBVTFSexPPK4ItmFY2-111">
          <mxGeometry x="-0.2544" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-118" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-116" target="LZsBVTFSexPPK4ItmFY2-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-116" value="用户登录" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="1910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-117" target="LZsBVTFSexPPK4ItmFY2-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-117" value="获取用户id" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="350" y="1910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-122" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-119" target="LZsBVTFSexPPK4ItmFY2-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-119" value="获取用户所属部门列表" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="1910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="LZsBVTFSexPPK4ItmFY2-121" target="LZsBVTFSexPPK4ItmFY2-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-121" value="查询&lt;span style=&quot;text-align: left; background-color: initial;&quot;&gt;uc_dep_role，获取所属智慧统计角色&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="1910" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LZsBVTFSexPPK4ItmFY2-123" value="insert/update&lt;br&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;uc_group、&lt;/span&gt;uc_group_user、uc_role_user、uc_user&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="970" y="1905" width="130" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
